# Local RAG Knowledge Assistant (æœ¬åœ°åŒ–ä¸ªäººçŸ¥è¯†åº“åŠ©æ‰‹)

![Python](https://img.shields.io/badge/Python-3.10%2B-blue?logo=python&logoColor=white)
![Streamlit](https://img.shields.io/badge/Streamlit-1.30%2B-FF4B4B?logo=streamlit&logoColor=white)
![LangChain](https://img.shields.io/badge/LangChain-Community-green?logo=langchain&logoColor=white)
![ChromaDB](https://img.shields.io/badge/VectorDB-Chroma-orange)
![DeepSeek](https://img.shields.io/badge/Model-DeepSeek--R1-purple)

**Local RAG Knowledge Assistant** æ˜¯ä¸€ä¸ªåŸºäº **DeepSeek-R1** å¤§æ¨¡å‹ä¸ **ChromaDB** å‘é‡æ•°æ®åº“æ„å»ºçš„**å®Œå…¨æœ¬åœ°åŒ–**ä¸ªäººçŸ¥è¯†åº“ç³»ç»Ÿã€‚

å®ƒå…è®¸ç”¨æˆ·ä¸Šä¼ ç§æœ‰æ–‡æ¡£ï¼ˆPDF, DOCX, TXT, MD, CSVï¼‰ï¼Œè‡ªåŠ¨æ„å»ºå‘é‡ç´¢å¼•ï¼Œå¹¶é€šè¿‡è‡ªç„¶è¯­è¨€ä¸æ–‡æ¡£è¿›è¡Œå¯¹è¯ã€‚**æ•°æ®ä¸å‡ºæœ¬åœ°ï¼Œéšç§ç»å¯¹å®‰å…¨ã€‚**

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½ (Key Features)

*   **ğŸ”’ 100% æœ¬åœ°åŒ–è¿è¡Œ**ï¼šä¾æ‰˜ LM Studio è¿è¡Œ DeepSeek æ¨¡å‹ï¼Œæ‰€æœ‰æ¨ç†ä¸å­˜å‚¨å‡åœ¨æœ¬åœ°å®Œæˆï¼Œæ— æ•°æ®æ³„éœ²é£é™©ã€‚
*   **ğŸ“š å¤šæ ¼å¼æ”¯æŒ**ï¼šæ”¯æŒ **PDF**, **Word (.docx)**, **Markdown**, **TXT**, **CSV** ç­‰å¤šç§æ ¼å¼æ–‡æ¡£çš„è§£æä¸å…¥åº“ã€‚
*   **ğŸ§  æ™ºèƒ½ RAG å¼•æ“**ï¼š
    *   ä½¿ç”¨ `HuggingFace (all-MiniLM-L6-v2)` è¿›è¡Œé«˜æ•ˆ CPU å‘é‡åŒ–ã€‚
    *   åŸºäº `ChromaDB` å®ç°æŒä¹…åŒ–å­˜å‚¨ä¸è¯­ä¹‰æ£€ç´¢ã€‚
*   **ğŸ–¥ï¸ å…¨åŠŸèƒ½äº¤äº’ç•Œé¢**ï¼š
    *   åŸºäº **Streamlit** æ­å»ºçš„ç°ä»£åŒ– UIã€‚
    *   **å¯è§†åŒ–æ–‡ä»¶ç®¡ç†**ï¼šæŸ¥çœ‹å½“å‰å·²å…¥åº“çš„æ–‡ä»¶åˆ—è¡¨ã€‚
    *   **æµå¼å¯¹è¯**ï¼šåƒæ‰“å­—æœºä¸€æ ·å®æ—¶è¾“å‡º AI çš„æ€è€ƒä¸å›ç­”ã€‚
*   **ğŸ›¡ï¸ å¥å£®çš„å·¥ç¨‹è®¾è®¡**ï¼š
    *   å†…ç½® **â€œæ¢å¤å‡ºå‚è®¾ç½®â€** åŠŸèƒ½ï¼Œä¸€é”®æ¸…ç©ºæ–‡ä»¶ä¸æ•°æ®åº“ã€‚
    *   è‡ªåŠ¨å¤„ç† Windows æ–‡ä»¶é”å†²çªä¸èµ„æºé‡Šæ”¾ã€‚
    *   åº•å±‚ä½¿ç”¨ `requests` å¼ºåŠ›ç›´è¿ï¼Œè‡ªåŠ¨ç»•è¿‡ç³»ç»Ÿä»£ç†å¹²æ‰°ã€‚

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ (Tech Stack)

| ç»„ä»¶ | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| **LLM Host** | **LM Studio** | ç”¨äºæœ¬åœ°åŠ è½½ DeepSeek-R1-14B æ¨¡å‹ |
| **Frontend** | **Streamlit** | æé€Ÿæ„å»º Python Web äº¤äº’ç•Œé¢ |
| **Orchestration** | **LangChain** | æ–‡æ¡£åŠ è½½ (Loaders) ä¸ åˆ‡åˆ† (Splitters) |
| **Vector DB** | **ChromaDB** | è½»é‡çº§æœ¬åœ°å‘é‡æ•°æ®åº“ (æ— éœ€å®‰è£… Server) |
| **Embedding** | **Sentence-Transformers** | `all-MiniLM-L6-v2` (æœ¬åœ° CPU è¿è¡Œ) |
| **Network** | **Requests** | æ›¿ä»£ OpenAI SDK åº•å±‚ï¼Œè§£å†³æœ¬åœ°ä»£ç†å†²çª |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Quick Start)

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿ä½ å·²å®‰è£… **Python 3.10 - 3.11**ã€‚

```bash
# 1. å…‹éš†æˆ–ä¸‹è½½æœ¬é¡¹ç›®
git clone https://github.com/your-username/local-rag-assistant.git
cd local-rag-assistant

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ (æ¨è)
python -m venv .venv
# Windows æ¿€æ´»:
.venv\Scripts\activate
# Mac/Linux æ¿€æ´»:
source .venv/bin/activate

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. é…ç½® LM Studio (å…³é”®ï¼)

æœ¬é¡¹ç›®ä¾èµ– **LM Studio** æä¾›çš„å¤§æ¨¡å‹ API æœåŠ¡ã€‚

1.  ä¸‹è½½å¹¶å®‰è£… [LM Studio](https://lmstudio.ai/)ã€‚
2.  åœ¨æœç´¢æ æœç´¢å¹¶ä¸‹è½½æ¨¡å‹ï¼š`DeepSeek-R1-Distill-Qwen-14B` (æ¨è) æˆ– `7B` ç‰ˆæœ¬ã€‚
3.  ç‚¹å‡»å·¦ä¾§ **Local Server (<->)** å›¾æ ‡ã€‚
4.  **é‡è¦è®¾ç½®**ï¼š
    *   åŠ è½½æ¨¡å‹ã€‚
    *   ç¡®ä¿ Server Port ä¸º `1234`ã€‚
    *   å¼€å¯ **Cross-Origin-Resource-Sharing (CORS)**ã€‚
    *   ç‚¹å‡»ç»¿è‰²æŒ‰é’® **Start Server**ã€‚

### 3. å¯åŠ¨åº”ç”¨

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š

```bash
streamlit run app.py
```

æµè§ˆå™¨å°†è‡ªåŠ¨æ‰“å¼€ `http://localhost:8501`ã€‚

---

## ğŸ“– ä½¿ç”¨æŒ‡å— (User Guide)

1.  **ä¸Šä¼ çŸ¥è¯†**ï¼š
    *   åœ¨å·¦ä¾§ä¾§è¾¹æ ï¼Œç‚¹å‡» **"Browse files"** ä¸Šä¼ ä½ çš„æ–‡æ¡£ã€‚
    *   ç‚¹å‡» **"ğŸ”„ é‡å»ºçŸ¥è¯†åº“"** æŒ‰é’®ã€‚
    *   è§‚å¯Ÿè¿›åº¦æ¡ï¼Œç­‰å¾…æ˜¾ç¤º "âœ… çŸ¥è¯†åº“æ„å»ºæˆåŠŸ"ã€‚
2.  **å¼€å§‹å¯¹è¯**ï¼š
    *   åœ¨å³ä¾§èŠå¤©æ¡†è¾“å…¥é—®é¢˜ï¼Œä¾‹å¦‚ï¼šâ€œè¿™ä»½åˆåŒçš„è¿çº¦é‡‘æ˜¯å¤šå°‘ï¼Ÿâ€
    *   AI å°†æ£€ç´¢ç›¸å…³ç‰‡æ®µå¹¶å›ç­”ã€‚
3.  **ç®¡ç†çŸ¥è¯†åº“**ï¼š
    *   å±•å¼€ **"æŸ¥çœ‹å½“å‰æ–‡ä»¶åˆ—è¡¨"** å¯æŸ¥çœ‹å·²å…¥åº“æ–‡æ¡£ã€‚
    *   ç‚¹å‡» **"ğŸ—‘ï¸ æ¢å¤å‡ºå‚è®¾ç½®"** å¯ä¸€é”®æ¸…ç©ºæ‰€æœ‰æ•°æ®ï¼ˆæ…ç”¨ï¼‰ã€‚

---

## ğŸ“‚ é¡¹ç›®ç»“æ„ (Structure)

```text
Local_RAG_Assistant/
â”œâ”€â”€ app.py               # å‰ç«¯ä¸»å…¥å£ (Streamlit)
â”œâ”€â”€ requirements.txt     # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ ingest.py        # æ•°æ®å·¥ç¨‹ (ETLã€å…¥åº“ã€æ¸…ç©ºé€»è¾‘)
â”‚   â””â”€â”€ rag_core.py      # æ ¸å¿ƒ RAG å¼•æ“ (æ£€ç´¢ã€Promptæ„å»ºã€LLMè°ƒç”¨)
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ docs/            # [è‡ªåŠ¨ç”Ÿæˆ] å­˜æ”¾ä¸Šä¼ çš„åŸå§‹æ–‡æ¡£
â”‚   â””â”€â”€ chroma_db/       # [è‡ªåŠ¨ç”Ÿæˆ] å‘é‡æ•°æ®åº“æ–‡ä»¶
```

---

## ğŸ”§ å¸¸è§é—®é¢˜ (Troubleshooting)

**Q: ç‚¹å‡»â€œé‡å»ºâ€æ—¶æŠ¥é”™ `WinError 32`ï¼Ÿ**
> **A:** è¿™æ˜¯ Windows æ–‡ä»¶é”é—®é¢˜ã€‚ç›®å‰çš„ç‰ˆæœ¬å·²ä¿®å¤æ­¤é—®é¢˜ï¼ˆé€šè¿‡é€»è¾‘æ¸…ç©ºè€Œéç‰©ç†åˆ é™¤ï¼‰ã€‚å¦‚æœä¾ç„¶é‡åˆ°ï¼Œè¯·å°è¯•åˆ·æ–°é¡µé¢æˆ–é‡å¯ `streamlit` æœåŠ¡ã€‚

**Q: ä¸ºä»€ä¹ˆä¸Šä¼ å¤§æ–‡ä»¶ï¼ˆå¦‚ 50MB CSVï¼‰ä¼šå¡æ­»ï¼Ÿ**
> **A:** ç›®å‰ Embedding è¿è¡Œåœ¨ CPU ä¸Šã€‚å¯¹äºè¶…å¤§æ–‡ä»¶ï¼Œå»ºè®®å…ˆæ‰‹åŠ¨åˆ‡åˆ†æˆå°æ–‡ä»¶ä¸Šä¼ ï¼Œæˆ–åœ¨ä»£ç ä¸­å¼€å¯ GPU åŠ é€Ÿï¼ˆéœ€ NVIDIA æ˜¾å¡ï¼‰ã€‚

**Q: æŠ¥é”™ `Connection error`ï¼Ÿ**
> **A:** è¯·æ£€æŸ¥ LM Studio çš„ Server æ˜¯å¦å·²å¯åŠ¨ï¼ˆç»¿è‰² Start æŒ‰é’®ï¼‰ã€‚

---

## ğŸ—“ï¸ æœªæ¥è§„åˆ’ (Roadmap)

*   [ ] **GPU åŠ é€Ÿæ”¯æŒ**ï¼šä¸º Embedding ç¯èŠ‚æ·»åŠ  CUDA æ”¯æŒã€‚
*   [ ] **è¡¨æ ¼æ·±åº¦è§£æ**ï¼šå¼•å…¥ `LlamaParse` ä¼˜åŒ–å¤æ‚ PDF è¡¨æ ¼çš„è¯†åˆ«ã€‚
*   [ ] **å¤šè½®å¯¹è¯è®°å¿†**ï¼šè®© AI è®°ä½ä¸Šä¸‹æ–‡ï¼Œæ”¯æŒè¿½é—®ã€‚
*   [ ] **æ··åˆæ£€ç´¢ (Hybrid Search)**ï¼šå¼•å…¥ BM25 å…³é”®è¯æ£€ç´¢æå‡å¬å›ç‡ã€‚

---

> **Note**: æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªå­¦ä¹ å‹é¡¹ç›®ï¼Œæ—¨åœ¨å±•ç¤º Local RAG çš„æ ¸å¿ƒåŸç†ä¸å·¥ç¨‹å®è·µã€‚æ¬¢è¿ Fork å’Œ Starï¼ğŸŒŸ